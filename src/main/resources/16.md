# 16 CopyOnWrite
:wusd
CopyOnWrite:
- 核心原理: 写入时复制.添加元素时,生成新容器并复制旧数据到新容器里,最后再把容器引用指向新容器.
- 类: CopyOnWriteArrayList~CopyOnWriteHashMap
- 使用场景: 读多写少; 写入马上能读取时勿用(数据问题)

## 16.1 什么是CopyOnWrite容器
CopyOnWrite: 写入时复制.往容器添加元素时,不直接往容器中添加,而是对当前容器进行copy,往新容器加元素,最后把原容器的引用指向新容器.

## 16.2 CopyOnWriteArrayList
CopyOnWriteArrayList: 
- 优点: 读的性能强,因为不加锁
- 缺点: 读的时候读的是老容器的数据; 写时,数据量大时占内容,容易引起Full GC

## 16.3 CopyOnWrite的业务中实现
适用场景:
- 读多写少
- 写的时候,批量写入